<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/turbolinks/5.2.0/turbolinks.js" integrity="sha256-iM4Yzi/zLj/IshPWMC1IluRxTtRjMqjPGd97TZ9yYpU=" crossorigin="anonymous"></script>
    <script src="/dist/alpine-turbo-drive-adapter.js" defer></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
  </head>

  <body>
    <a href="/tests/res/turbolinks/mutation/target.html">Go to target</a>

    <div x-data="{ foo: 'bar', open: true }">
        <template x-if="open">
            <span x-text="foo"></span>
        </template>
    </div>

    <button onclick="addElement()">Add</button>
    <div id="container">
    </div>

    <script>
      function addElement() {
        var div = document.createElement("div");

        div.innerHTML = `<p x-data="{ open: true }">
          <template x-if="open">
              <span>Test</span>
          </template>
        </p>`;

        document.getElementById('container').appendChild(div);
      }
    </script>
  </body>

</html>
